---
import "picolight";
import styles from "./Example.module.css";
---

<example>
  <pre class={styles.main}>
    <code />
  </pre>
</example>
<script>
  import { highlight } from "picolight";
  import { scheme } from "picolight/languages/scheme";
  import { picoDark } from "picolight/themes/pico-dark";

  customElements.define(
    "example",
    class extends HTMLElement {
      async connectedCallback(): Promise<void> {
        const code = this.querySelector("code");

        if (!code) {
          throw new Error("root element missing");
        }

        code.innerHTML = highlight(
          `(write-string "Hello, World!")`,
          scheme,
          picoDark,
        ).innerHTML;
      }
    },
  );
</script>
